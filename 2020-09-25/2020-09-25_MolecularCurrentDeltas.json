{"config": {"axis": {"labelFontSize": 14, "titleFontSize": 14}, "header": {"labelFontSize": 14, "titleFontSize": 14}, "legend": {"labelFontSize": 14, "titleFontSize": 14}, "title": {"align": "center", "fontSize": 20, "offset": 15}}, "data": {"name": "data-d751713988987e9331980363e24189ce"}, "facet": {"type": "nominal", "field": "variable", "sort": ["Pruebas", "Positivas"], "title": null}, "spec": {"layer": [{"mark": "rect", "encoding": {"color": {"type": "quantitative", "field": "value", "legend": null, "scale": {"domain": {"unionWith": [0]}, "domainMid": 0, "scheme": "redgrey"}, "title": null}, "tooltip": [{"type": "temporal", "field": "collected_date", "title": "Fecha de muestra"}, {"type": "temporal", "field": "bulletin_date", "title": "Fecha de r\u00e9cord"}, {"type": "quantitative", "field": "value", "title": "Nuevas"}], "x": {"type": "ordinal", "axis": {"format": "%d"}, "field": "collected_date", "sort": "descending", "timeUnit": "date", "title": "D\u00eda del mes"}, "y": {"type": "ordinal", "axis": {"format": "%B"}, "field": "collected_date", "sort": "descending", "timeUnit": "month", "title": null}}, "transform": [{"joinaggregate": [{"op": "min", "field": "value", "as": "min_value"}, {"op": "max", "field": "value", "as": "max_value"}], "groupby": ["variable"]}, {"calculate": "min(0, datum.min_value / 2.0)", "as": "lo_mid_value"}, {"calculate": "max(0, datum.max_value / 2.0)", "as": "hi_mid_value"}]}, {"mark": {"type": "text", "fontSize": 7}, "encoding": {"color": {"condition": {"value": "black", "test": "(datum.lo_mid_value < datum.value) & (datum.value < datum.hi_mid_value)"}, "value": "white"}, "text": {"type": "quantitative", "field": "value"}, "tooltip": [{"type": "temporal", "field": "collected_date", "title": "Fecha de muestra"}, {"type": "temporal", "field": "bulletin_date", "title": "Fecha de r\u00e9cord"}, {"type": "quantitative", "field": "value", "title": "Nuevas"}], "x": {"type": "ordinal", "axis": {"format": "%d"}, "field": "collected_date", "sort": "descending", "timeUnit": "date", "title": "D\u00eda del mes"}, "y": {"type": "ordinal", "axis": {"format": "%B"}, "field": "collected_date", "sort": "descending", "timeUnit": "month", "title": null}}, "transform": [{"joinaggregate": [{"op": "min", "field": "value", "as": "min_value"}, {"op": "max", "field": "value", "as": "max_value"}], "groupby": ["variable"]}, {"calculate": "min(0, datum.min_value / 2.0)", "as": "lo_mid_value"}, {"calculate": "max(0, datum.max_value / 2.0)", "as": "hi_mid_value"}, {"filter": "(datum.value !== 0) & (datum.value !== null)"}]}], "height": 70, "width": 580}, "columns": 1, "resolve": {"scale": {"color": "independent"}}, "$schema": "https://vega.github.io/schema/vega-lite/v4.8.1.json", "datasets": {"data-d751713988987e9331980363e24189ce": []}}